<idea-plugin>
    <id>com.bap.dev.BapDevPlugin</id>
    <name>BapDevPlugin</name>
    <version>1.2.3</version>
    <vendor email="2991747768@qq.com">LHR_1112</vendor>
    <resource-bundle>messages.BapBundle</resource-bundle>
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="com.bap.dev.settings.BapSettingsState"/>
        <applicationConfigurable parentId="tools"
                                 instance="com.bap.dev.settings.BapSettingsConfigurable"
                                 id="com.bap.dev.settings.BapSettingsConfigurable"
                                 key="configurable.BapSettingsConfigurable.display_name"/>
        <projectViewNodeDecorator implementation="com.bap.dev.ui.BapProjectDecorator"/>
        <notificationGroup id="Cloud Project Download"
                           displayType="BALLOON"
                           key="notification.group.cloud.download"/>
        <postStartupActivity implementation="com.bap.dev.activity.BapStartupActivity"/>
        <toolWindow id="Bap Changes"
                    secondary="false"
                    icon="AllIcons.Toolwindows.ToolWindowChanges"
                    anchor="left"
                    factoryClass="com.bap.dev.ui.BapToolWindowFactory"/>
        <postStartupActivity implementation="com.bap.dev.activity.CheckUpdateActivity"/>
        <notificationGroup id="Bap Update Notification"
                           displayType="BALLOON"
                           key="bap.update.notification"/>
    </extensions>

    <projectListeners>
        <listener class="com.bap.dev.listener.BapAutoRefreshListener"
                  topic="com.intellij.openapi.vfs.newvfs.BulkFileListener"/>
        <listener class="com.bap.dev.listener.BapModuleListener"
                  topic="com.intellij.openapi.project.ModuleListener"/>
    </projectListeners>

    <actions>
        <action id="com.bap.dev.action.ProjectDownloadAction"
                class="com.bap.dev.action.ProjectDownloadAction">
            <add-to-group group-id="WelcomeScreen.QuickStart" anchor="first"/>
        </action>

        <group id="BapDevelopmentGroup"
               popup="true">

            <action id="com.bap.dev.action.HelloWorldAction"
                    class="com.bap.dev.action.HelloWorldAction"/>

            <reference ref="com.bap.dev.action.ProjectDownloadAction"/>

            <separator/>

            <action id="com.bap.dev.action.OpenBapSettingsAction"
                    class="com.bap.dev.action.OpenBapSettingsAction"/>

            <add-to-group group-id="MainMenu" anchor="after" relative-to-action="HelpMenu"/>
        </group>

        <group id="BapContextGroup" popup="true" icon="AllIcons.General.GearPlain">
            <action id="com.bap.dev.action.RefreshProjectAction"
                    class="com.bap.dev.action.RefreshProjectAction"
                    icon="AllIcons.Actions.Refresh"/>
            <separator/>
            <action id="com.bap.dev.action.UpdateLibsAction"
                    class="com.bap.dev.action.UpdateLibsAction"
                    icon="AllIcons.Nodes.PpLib"/>
            <action id="com.bap.dev.action.UpdateAllAction"
                    class="com.bap.dev.action.UpdateAllAction"
                    icon="AllIcons.Actions.CheckOut"/>
            <action id="com.bap.dev.action.UpdateFileAction"
                    class="com.bap.dev.action.UpdateFileAction"
                    icon="AllIcons.Actions.Download"/>
            <separator/>
            <action id="com.bap.dev.action.CompareJavaCodeAction"
                    class="com.bap.dev.action.CompareJavaCodeAction"
                    icon="AllIcons.Actions.Diff"/>
            <action id="com.bap.dev.action.ShowHistoryAction"
                    class="com.bap.dev.action.ShowHistoryAction"
                    icon="AllIcons.Vcs.History"/>
            <action id="com.bap.dev.action.ShowProjectHistoryAction"
                    class="com.bap.dev.action.ShowProjectHistoryAction"
                    icon="AllIcons.Vcs.History"/>
            <separator/>
            <action id="com.bap.dev.action.CommitAllAction"
                    class="com.bap.dev.action.CommitAllAction"
                    icon="AllIcons.Actions.AddList"/>
            <action id="com.bap.dev.action.CommitAllAndPublishAction"
                    class="com.bap.dev.action.CommitAllAndPublishAction"
                    icon="AllIcons.RunConfigurations.Compound"/>
            <separator/>
            <action id="com.bap.dev.action.CommitFileAction"
                    class="com.bap.dev.action.CommitFileAction"
                    icon="AllIcons.Actions.Upload"/>
            <action id="com.bap.dev.action.CommitFileAndPublishAction"
                    class="com.bap.dev.action.CommitFileAndPublishAction"
                    icon="AllIcons.RunConfigurations.Compound"/>
            <separator/>
            <action id="com.bap.dev.action.PublishProjectAction"
                    class="com.bap.dev.action.PublishProjectAction"
                    icon="AllIcons.Actions.Execute"/>
            <action id="com.bap.dev.action.RelocateProjectAction"
                    class="com.bap.dev.action.RelocateProjectAction"
                    icon="AllIcons.Nodes.Project"/>
            <separator/>
            <action id="com.bap.dev.action.OpenAdminToolAction"
                    class="com.bap.dev.action.OpenAdminToolAction"
                    icon="AllIcons.General.Settings"/>
            <action id="com.bap.dev.action.StartDebugAction"
                    class="com.bap.dev.action.StartDebugAction"
                    icon="AllIcons.Actions.StartDebugger"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="after" relative-to-action="WeighingNewGroup"/>
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </group>
    </actions>
</idea-plugin>