# BapDevTool——IntelliJ IDEA 云开发插件

基于原有 Eclipse 云开发插件重构的 **IntelliJ IDEA** 版本。

[![GitHub release (latest by date)](https://img.shields.io/github/v/release/LHR-1112/BapDevTool?style=for-the-badge)](https://github.com/LHR-1112/BapDevTool/releases)

---

## 📥 安装指南

> ⚠️ **前置条件**
>
> - IntelliJ IDEA 版本必须 **≥ IU-223.\***
> - 当前插件尚未上架 JetBrains 官方插件市场

插件支持 **两种安装 / 更新方式**，请根据你的使用场景选择。

---

### ✅ 安装方式一：通过 GitHub 下载本地安装

适用于 **首次使用** 或 **无法访问私有插件仓库** 的场景。

#### 安装步骤

1. 前往 GitHub Releases 页面，下载 **最新版本插件压缩包**
2. 打开 **IntelliJ IDEA**
3. 进入  
   `Settings / Preferences` → `Plugins`
4. 点击右上角 **⚙️（齿轮）**
5. 选择 **Install Plugin from Disk...**
6. 选择下载好的插件压缩包
7. 安装完成后 **重启 IntelliJ IDEA**

---

### 🚀 安装方式二：通过私有插件仓库安装 / 自动更新（推荐长期使用）

适用于 **团队内部使用**、**持续更新** 的场景，支持插件内 **一键更新并重启**。

#### 一次性配置私有插件仓库

1. 打开 **IntelliJ IDEA**
2. 进入  
   `Settings / Preferences` → `Plugins`
3. 点击右上角 **⚙️（齿轮）**
4. 选择 **Manage Plugin Repositories...**
5. 添加 **Bap 私有插件仓库地址**  
   "https://lhr-1112.github.io/BapDevTool/plugins.xml"
6. 确认并保存设置

#### 安装 / 更新插件

- 在插件市场中搜索 **BapDevTool** 并安装
- 或在插件内使用 **一键更新并重启** 功能完成升级

---

## 🛠️ 开发环境（仅供参考）

* **系统**: MacOS X
* **CPU**: Apple Silicon M4
* **IDE**: IntelliJ IDEA 2025.1.3 (Ultimate Edition)
* **JDK**: Oracle OpenJDK 24.0.1 - aarch64

> ⚠️ **注意**: 当前版本仅在上述环境中进行过测试。若在其他环境中使用，可能会遇到兼容性问题。

---

## ⚠️ 已知问题与局限

* **管理工具**：暂时沿用原 Eclipse 版本的页面和逻辑。
* **文件状态**：外部写入的文件，偶尔会出现识别不到文件状态的问题。
* **文件状态**：开启了自动刷新文件状态，一直刷新会非常卡

---

## 📜 变更日志 (ChangeLog)
### v1.3.2
* **特性修改**：一键更新弃用原来的接口，改为私仓更新

### v1.3.1
* **新特性**：新增设置：commit是否需要确认
* **新特性**：新增两个动作：CommitFileAndPublishAction、CommitAllAndPublishAction
* **特性修改**：更改右键菜单，BapChangesTreePanel的按钮图标及布局
* **新特性**：BapChangesTreePanel文件增加包路径显示，不再平铺
* **新特性**：BapChangesTreePanel添加switch：扁平化/树形展示包路径

### v1.3
* **新特性**：BapChanges界面，在工程根节点上增加一些快捷操作
* **新特性**：添加一键更新插件并重启的能力，同时保留github下载的入口
* **新特性**：修改项目历史的查询逻辑，增加资源文件历史的展示
* **新特性**：修改文件历史的查询逻辑，增加资源文件历史的展示
* **bug修复**：修复设置界面点击检查更新无反应的问题
* **新特性**：适配i18n
* **新特性**：BapChanges界面，Modified/Added/Deleted三个节点增加右键菜单
* **新特性**：文件状态检测过滤掉“.DS_Store”
* **特性修改**：去除顶栏Bap目录和下载项目、设置选项的图标
* **特性修改**：红D文件原来的逻辑是在本地的文件系统中添加一个空文件作为占位符，改成使用内存中的 LightVirtualFile 来代替物理文件进行展示，不再在本地生成占位缓存文件
* **特性修改**：更新日志的打印方式
* **bug修复**：修复在资源文件根目录的文件commit后会套上一个同名文件夹，导致Idea报错崩溃的问题

### v1.2.4
* **特性修改**：commit的提示窗口，自动聚焦到commit按钮，而不是提交信息窗口
* **特性修改**：BapChanges在commit/update等操作之后，自动聚焦到项目节点
* **特性修改**：代码Debug面板增加Rerun，自动换行，导出等按钮
* **bug修复**：修复密码错误、无法连接时，刷新项目无提示

### v1.2.3
* **新特性**：工程relocate的历史记录，增加删除功能
* **bug修复**：更新依赖jar包：tcmcat-bap.jar
* **新特性**：下载工程的时候，加上进度条提醒和网速显示
* **新特性**：下载工程的时候，添加终止下载的能力
* **新特性**：拉取工程时提供选项：新建一个项目、作为当前项目的一个模块
* **新特性**：在首页添加“下载工程”按钮，方便新用户使用
* **新特性**：新增能力：云端调试（只要本地的代码类有Main方法就可以运行，通过Trace输出进行调试，参考管理工具中的JavaTool，无需发布插件）

### v1.2.2
* **新特性**：BapChanges界面，增加一键收缩、展开、定位按钮
* **特性修改**：BapChanges界面，双击文件直接弹出云端与本地的对比
* **bug修复**：蓝A的资源文件，点击update无法删除
* **新特性**：commit的时候，提示目标服务器与工程信息
* **特性修改**：修改设置界面中，颜色修改的属性名称
* **特性修改**：丰富BapChangesTreePanel的右键菜单，与项目树的保持一致
* **特性修改**：将部分操作获取BapClient的方法改为通过BapConnectionManager获取长连接

### v1.2.1
* **新特性**：设置中可更改文件状态的颜色

### v1.2
* **bug修复**：去除没用到的依赖jar
* **bug修复**：重新编排右键菜单选项的顺序
* **bug修复**：修复管理工具无法连接"wss://"类型的地址
* **新特性**：UpdateAll
* **新特性**：整合commit时的文件列表提示与comment填写
* **新特性**：工程重定向的历史记录
* **新特性**：插件版本更新提醒
* **新特性**：新增文件状态颜色的修改

### v1.1.2
* **新特性**：commit时的提交信息
* **bug修复**：解决无法记录提交历史记录的问题

### v1.1.1
* **bug修复**：支援至2022.3.2版本
* **bug修复**：解决管理工具无法显示的问题

### v1.1
* **bug修复**：修复设置“发布时自动编译”失效的问题
* **特性更改**：修改创建模块时的编译器输出路径设置
* **新特性**：新增版本管理的能力：查询云端代码历史、查询项目提交历史、回滚单个代码文件、不同版本与本地的代码文件对比
* **新特性**：新增设置：自动刷新文件状态

### v1.0
* **重构**：使用 IntelliJ IDEA 插件开发环境，将原 Eclipse 上的云开发插件进行彻底重构。
* **新特性**：新增与 Git 类似的文件状态颜色提示功能。

---

## 📧 BUG 反馈与联系方式

如果您在使用过程中遇到任何问题或 BUG，欢迎通过以下渠道反馈：

* **邮箱**: 2991747768@qq.com
